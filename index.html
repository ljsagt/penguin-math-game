<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éö„É≥„ÇÆ„É≥ÁÆóÊï∞ÊïôÂÆ§</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            min-height: 100vh;
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            font-family: 'Segoe UI', 'Yu Gothic', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            text-align: center;
            padding: 20px;
        }
        h1 {
            color: #2c5282;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
        }
        .screen {
            display: none;
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto;
        }
        .screen.active {
            display: block;
        }
        .penguin-container {
            margin: 20px auto;
        }
        .penguin-svg {
            width: 150px;
            height: 180px;
        }
        .digit-btn {
            display: block;
            width: 100%;
            padding: 20px;
            margin: 15px 0;
            font-size: 1.5em;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .digit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        .problem {
            font-size: 3em;
            color: #2d3748;
            margin: 30px 0;
            font-weight: bold;
        }
        .answer-input {
            font-size: 2em;
            padding: 15px 20px;
            width: 200px;
            text-align: center;
            border: 3px solid #667eea;
            border-radius: 15px;
            outline: none;
        }
        .answer-input:focus {
            border-color: #764ba2;
            box-shadow: 0 0 10px rgba(118, 75, 162, 0.3);
        }
        .submit-btn {
            display: inline-block;
            padding: 15px 40px;
            margin: 20px 10px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
        }
        .progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
        }
        .progress-dot {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #e2e8f0;
            transition: background 0.3s;
        }
        .progress-dot.correct {
            background: #48bb78;
        }
        .progress-dot.wrong {
            background: #fc8181;
        }
        .progress-dot.current {
            border: 3px solid #667eea;
        }
        .fish-count {
            font-size: 1.8em;
            color: #2c5282;
            margin: 15px 0;
        }
        .fish-icon {
            display: inline-block;
            margin-left: 5px;
        }
        .feedback {
            font-size: 1.5em;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }
        .feedback.correct {
            display: block;
            background: #c6f6d5;
            color: #276749;
        }
        .feedback.wrong {
            display: block;
            background: #fed7d7;
            color: #c53030;
        }
        .result-title {
            font-size: 2em;
            color: #2c5282;
            margin-bottom: 20px;
        }
        .result-score {
            font-size: 3em;
            color: #667eea;
            margin: 20px 0;
        }
        .result-message {
            font-size: 1.3em;
            color: #4a5568;
            margin: 20px 0;
        }
        .fish-display {
            font-size: 2em;
            margin: 20px 0;
        }
        .restart-btn {
            padding: 15px 40px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 20px;
        }
        .restart-btn:hover {
            transform: translateY(-2px);
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes fishJump {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-50px) rotate(20deg); opacity: 0; }
        }
        @keyframes fishToMouth {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            50% { transform: translate(0, -30px) scale(0.8); opacity: 1; }
            100% { transform: translate(0, -50px) scale(0); opacity: 0; }
        }
        @keyframes eating {
            0% { transform: scaleY(1); }
            25% { transform: scaleY(0.7); }
            50% { transform: scaleY(1); }
            75% { transform: scaleY(0.7); }
            100% { transform: scaleY(1); }
        }
        .penguin-happy {
            animation: bounce 0.5s ease-in-out;
        }
        .penguin-eating #beakGroup {
            animation: eating 0.6s ease-in-out 2;
            transform-origin: 50px 35px;
        }
        .fish-animation {
            position: absolute;
            animation: fishJump 0.8s ease-out forwards;
        }
        .fish-eat-animation {
            position: absolute;
            font-size: 2em;
            animation: fishToMouth 0.8s ease-in-out forwards;
            pointer-events: none;
        }
        .penguin-wrapper {
            position: relative;
            display: inline-block;
        }
        .speech-bubble {
            background: white;
            border: 2px solid #667eea;
            border-radius: 20px;
            padding: 10px 20px;
            margin: 10px auto;
            max-width: 250px;
            position: relative;
            font-size: 1.1em;
            color: #4a5568;
        }
        .speech-bubble:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border: 10px solid transparent;
            border-top-color: white;
        }
        /* Keypad styles */
        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 280px;
            margin: 20px auto;
        }
        .key-btn {
            padding: 18px;
            font-size: 1.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
            color: #2d3748;
            border: 2px solid #ccc;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.15s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        .key-btn:hover {
            background: linear-gradient(135deg, #e8e8e8, #d8d8d8);
        }
        .key-btn:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, #d0d0d0, #c0c0c0);
        }
        .key-btn.delete {
            background: linear-gradient(135deg, #fc8181, #f56565);
            color: white;
            border-color: #e53e3e;
        }
        .key-btn.delete:hover {
            background: linear-gradient(135deg, #f56565, #e53e3e);
        }
        .key-btn.zero {
            grid-column: span 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêß „Éö„É≥„ÇÆ„É≥ÁÆóÊï∞ÊïôÂÆ§ üêß</h1>

        <!-- ÈÅ∏ÊäûÁîªÈù¢ -->
        <div id="selectScreen" class="screen active">
            <div class="penguin-container">
                <svg class="penguin-svg" viewBox="0 0 100 120">
                    <!-- Body -->
                    <ellipse cx="50" cy="75" rx="35" ry="40" fill="#4a4a4a"/>
                    <!-- White belly -->
                    <ellipse cx="50" cy="80" rx="25" ry="32" fill="#f5f5f5"/>
                    <!-- Head -->
                    <circle cx="50" cy="30" r="25" fill="#2a2a2a"/>
                    <!-- White face patches -->
                    <ellipse cx="40" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                    <ellipse cx="60" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                    <!-- Yellow patches -->
                    <ellipse cx="35" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                    <ellipse cx="65" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                    <!-- Eyes -->
                    <circle cx="42" cy="28" r="5" fill="#000"/>
                    <circle cx="58" cy="28" r="5" fill="#000"/>
                    <circle cx="43" cy="27" r="2" fill="#fff"/>
                    <circle cx="59" cy="27" r="2" fill="#fff"/>
                    <!-- Beak -->
                    <path d="M50 35 L44 42 L56 42 Z" fill="#ff6b35"/>
                    <!-- Flippers -->
                    <ellipse cx="18" cy="70" rx="10" ry="18" fill="#3a3a3a"/>
                    <ellipse cx="82" cy="70" rx="10" ry="18" fill="#3a3a3a"/>
                    <!-- Feet -->
                    <ellipse cx="38" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                    <ellipse cx="62" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                </svg>
            </div>
            <div class="speech-bubble">
                „ÅÑ„Å£„Åó„Çá„Å´ÁÆóÊï∞„ÅÆÁ∑¥Áøí„Çí„Åó„Çà„ÅÜÔºÅ
            </div>
            <p style="font-size: 1.2em; color: #4a5568; margin: 20px 0;">
                „Å©„ÅÆÂïèÈ°å„Çí„Åô„ÇãÔºü
            </p>
            <button class="digit-btn" onclick="startGame('1+2')">1Ê°Å + 2Ê°Å„ÅÆË∂≥„ÅóÁÆó<br><small>(1„Äú9) + (10„Äú20)</small></button>
            <button class="digit-btn" onclick="startGame('2-1')">2Ê°Å ‚àí 1Ê°Å„ÅÆÂºï„ÅçÁÆó<br><small>(10„Äú20) ‚àí (1„Äú9)</small></button>
            <button class="digit-btn" onclick="startGame('2small')">2Ê°Å„ÅÆË∂≥„ÅóÁÆó<br><small>(10„Äú20) + (10„Äú20)</small></button>
        </div>

        <!-- „Ç≤„Éº„É†ÁîªÈù¢ -->
        <div id="gameScreen" class="screen">
            <div class="progress" id="progress"></div>
            <div class="fish-count">
                üêü <span id="fishCount">0</span> „Å¥„Åç
            </div>
            <div class="penguin-container">
                <div class="penguin-wrapper">
                    <svg id="gamePenguin" class="penguin-svg" viewBox="0 0 100 120">
                        <ellipse cx="50" cy="75" rx="35" ry="40" fill="#4a4a4a"/>
                        <ellipse cx="50" cy="80" rx="25" ry="32" fill="#f5f5f5"/>
                        <circle cx="50" cy="30" r="25" fill="#2a2a2a"/>
                        <ellipse cx="40" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                        <ellipse cx="60" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                        <ellipse cx="35" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                        <ellipse cx="65" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                        <!-- Normal eyes -->
                        <g id="normalEyes">
                            <circle cx="42" cy="28" r="5" fill="#000"/>
                            <circle cx="58" cy="28" r="5" fill="#000"/>
                            <circle cx="43" cy="27" r="2" fill="#fff"/>
                            <circle cx="59" cy="27" r="2" fill="#fff"/>
                        </g>
                        <!-- Happy eyes (hidden by default) -->
                        <g id="happyEyes" style="display:none;">
                            <path d="M37 28 Q42 24 47 28" stroke="#000" stroke-width="3" fill="none"/>
                            <path d="M53 28 Q58 24 63 28" stroke="#000" stroke-width="3" fill="none"/>
                        </g>
                        <g id="beakGroup">
                            <path class="beak" d="M50 35 L44 42 L56 42 Z" fill="#ff6b35"/>
                        </g>
                        <ellipse cx="18" cy="70" rx="10" ry="18" fill="#3a3a3a"/>
                        <ellipse cx="82" cy="70" rx="10" ry="18" fill="#3a3a3a"/>
                        <ellipse cx="38" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                        <ellipse cx="62" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                    </svg>
                    <div id="fishAnimation" style="display:none; position:absolute; top:20px; left:50%; transform:translateX(-50%); font-size:2em;">üêü</div>
                </div>
            </div>
            <div class="speech-bubble" id="penguinSpeech">
                „Åå„Çì„Å∞„Å£„Å¶ÔºÅ
            </div>
            <div class="problem" id="problem"></div>
            <div>
                <input type="text" class="answer-input" id="answerInput" placeholder="?" readonly>
            </div>
            <div class="keypad">
                <button class="key-btn" onclick="pressKey('1')">1</button>
                <button class="key-btn" onclick="pressKey('2')">2</button>
                <button class="key-btn" onclick="pressKey('3')">3</button>
                <button class="key-btn" onclick="pressKey('4')">4</button>
                <button class="key-btn" onclick="pressKey('5')">5</button>
                <button class="key-btn" onclick="pressKey('6')">6</button>
                <button class="key-btn" onclick="pressKey('7')">7</button>
                <button class="key-btn" onclick="pressKey('8')">8</button>
                <button class="key-btn" onclick="pressKey('9')">9</button>
                <button class="key-btn zero" onclick="pressKey('0')">0</button>
                <button class="key-btn delete" onclick="pressDelete()">‚Üê</button>
            </div>
            <div>
                <button class="submit-btn" onclick="checkAnswer()">„Åì„Åü„Åà„ÇãÔºÅ</button>
            </div>
            <div class="feedback" id="feedback"></div>
        </div>

        <!-- ÁµêÊûúÁîªÈù¢ -->
        <div id="resultScreen" class="screen">
            <div class="result-title">üéâ „Åä„Å§„Åã„Çå„Åï„ÅæÔºÅ üéâ</div>
            <div class="penguin-container">
                <svg class="penguin-svg" viewBox="0 0 100 120">
                    <ellipse cx="50" cy="75" rx="35" ry="40" fill="#4a4a4a"/>
                    <ellipse cx="50" cy="80" rx="25" ry="32" fill="#f5f5f5"/>
                    <circle cx="50" cy="30" r="25" fill="#2a2a2a"/>
                    <ellipse cx="40" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                    <ellipse cx="60" cy="32" rx="8" ry="10" fill="#f5f5f5"/>
                    <ellipse cx="35" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                    <ellipse cx="65" cy="25" rx="6" ry="4" fill="#ffd93d"/>
                    <!-- Happy eyes -->
                    <path d="M37 28 Q42 24 47 28" stroke="#000" stroke-width="3" fill="none"/>
                    <path d="M53 28 Q58 24 63 28" stroke="#000" stroke-width="3" fill="none"/>
                    <path d="M50 35 L44 42 L56 42 Z" fill="#ff6b35"/>
                    <!-- Raised flippers -->
                    <ellipse cx="15" cy="60" rx="10" ry="18" fill="#3a3a3a" transform="rotate(-20, 15, 60)"/>
                    <ellipse cx="85" cy="60" rx="10" ry="18" fill="#3a3a3a" transform="rotate(20, 85, 60)"/>
                    <ellipse cx="38" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                    <ellipse cx="62" cy="112" rx="12" ry="6" fill="#ff6b35"/>
                </svg>
            </div>
            <div class="result-score">
                <span id="correctCount">0</span> / 10 ÂïèÊ≠£Ëß£ÔºÅ
            </div>
            <div class="fish-display">
                üêü <span id="totalFish">0</span> „Å¥„Åç„Ç≤„ÉÉ„ÉàÔºÅ
            </div>
            <div class="result-message" id="resultMessage"></div>
            <button class="restart-btn" onclick="backToSelect()">„ÇÇ„ÅÜ„ÅÑ„Å°„Å©„ÅÇ„Åù„Å∂</button>
        </div>
    </div>

    <script>
        let gameMode = '1';
        let currentQuestion = 0;
        let correctAnswers = 0;
        let fishCount = 0;
        let num1, num2, correctAnswer;
        let results = [];
        let isAnimating = false;

        const speeches = {
            start: ['„Åå„Çì„Å∞„Å£„Å¶ÔºÅ', '„Åß„Åç„Çã„Åã„Å™Ôºü', '„Åã„Çì„Åå„Åà„Å¶„Åø„Çà„ÅÜÔºÅ'],
            correct: ['„Åô„Åî„ÅÑÔºÅ', '„ÇÑ„Å£„Åü„Å≠ÔºÅ', '„Åõ„ÅÑ„Åã„ÅÑÔºÅ', '„Åã„Çì„Å∫„ÅçÔºÅ', '„Åô„Å∞„Çâ„Åó„ÅÑÔºÅ', '„Åä„ÅÑ„Åó„ÅÑÔºÅüêü'],
            wrong: ['„Åä„Åó„ÅÑÔºÅ', '„Å§„Åé„ÅØ„Åß„Åç„Çã„ÇàÔºÅ', '„Åå„Çì„Å∞„Å£„Å¶ÔºÅ', '„ÇÇ„ÅÜ„ÅÑ„Å°„Å©ÔºÅ']
        };

        function getRandomSpeech(type) {
            const list = speeches[type];
            return list[Math.floor(Math.random() * list.length)];
        }

        function generateNumber(type) {
            if (type === '1') {
                return Math.floor(Math.random() * 9) + 1;
            } else if (type === '2') {
                return Math.floor(Math.random() * 90) + 10;
            } else if (type === '2small') {
                // 10„Äú20
                return Math.floor(Math.random() * 11) + 10;
            } else {
                return Math.floor(Math.random() * 900) + 100;
            }
        }

        function generateProblem() {
            if (gameMode === '1+2') {
                // 1Ê°Å + 2Ê°ÅÔºà10-20Ôºâ
                num1 = generateNumber('1');
                num2 = generateNumber('2small');
                correctAnswer = num1 + num2;
            } else if (gameMode === '2-1') {
                // 2Ê°ÅÔºà10-20Ôºâ- 1Ê°ÅÔºà„Éû„Ç§„Éä„Çπ„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´Ôºâ
                num1 = generateNumber('2small');
                num2 = generateNumber('1');
                // ÁµêÊûú„Åå„Éû„Ç§„Éä„Çπ„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´Ë™øÊï¥
                if (num1 < num2) {
                    // num1„Å®num2„ÇíÂÖ•„ÇåÊõø„Åà„ÄÅ„Åæ„Åü„ÅØÂÜçÁîüÊàê
                    num1 = Math.max(num1, num2 + 1);
                    if (num1 > 20) num1 = 20;
                }
                correctAnswer = num1 - num2;
            } else if (gameMode === '2small') {
                // 2Ê°ÅÔºà10-20Ôºâ+ 2Ê°ÅÔºà10-20Ôºâ
                num1 = generateNumber('2small');
                num2 = generateNumber('2small');
                correctAnswer = num1 + num2;
            }
        }

        function startGame(mode) {
            gameMode = mode;
            currentQuestion = 0;
            correctAnswers = 0;
            fishCount = 0;
            results = [];

            document.getElementById('selectScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');

            // Reset penguin eyes
            document.getElementById('normalEyes').style.display = 'block';
            document.getElementById('happyEyes').style.display = 'none';

            updateProgress();
            updateFishCount();
            nextQuestion();
        }

        function updateProgress() {
            const progressDiv = document.getElementById('progress');
            progressDiv.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                if (i < results.length) {
                    dot.classList.add(results[i] ? 'correct' : 'wrong');
                }
                if (i === currentQuestion) {
                    dot.classList.add('current');
                }
                progressDiv.appendChild(dot);
            }
        }

        function updateFishCount() {
            document.getElementById('fishCount').textContent = fishCount;
        }

        function nextQuestion() {
            if (currentQuestion >= 10) {
                showResult();
                return;
            }

            generateProblem();

            const operator = gameMode === '2-1' ? '‚àí' : '+';
            document.getElementById('problem').textContent = `${num1} ${operator} ${num2} = ?`;
            document.getElementById('answerInput').value = '';
            document.getElementById('answerInput').focus();
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('penguinSpeech').textContent = getRandomSpeech('start');

            // Reset eyes to normal
            document.getElementById('normalEyes').style.display = 'block';
            document.getElementById('happyEyes').style.display = 'none';

            updateProgress();
        }

        function showFishEatingAnimation() {
            const fishAnim = document.getElementById('fishAnimation');
            const penguin = document.getElementById('gamePenguin');

            // Show happy eyes
            document.getElementById('normalEyes').style.display = 'none';
            document.getElementById('happyEyes').style.display = 'block';

            // Show fish animation
            fishAnim.style.display = 'block';
            fishAnim.style.opacity = '1';
            fishAnim.style.top = '80px';

            // Animate fish moving to beak
            let startTime = null;
            const duration = 600;
            const startTop = 80;
            const endTop = 45;

            function animate(timestamp) {
                if (!startTime) startTime = timestamp;
                const progress = Math.min((timestamp - startTime) / duration, 1);

                // Ease out
                const easeProgress = 1 - Math.pow(1 - progress, 3);

                fishAnim.style.top = (startTop - (startTop - endTop) * easeProgress) + 'px';
                fishAnim.style.transform = `translateX(-50%) scale(${1 - easeProgress * 0.5}) rotate(${easeProgress * 20}deg)`;
                fishAnim.style.opacity = 1 - easeProgress * 0.3;

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    // Fish eaten - hide and show munching
                    fishAnim.style.display = 'none';

                    // Add eating animation to beak
                    penguin.classList.add('penguin-eating');

                    setTimeout(() => {
                        penguin.classList.remove('penguin-eating');
                    }, 600);
                }
            }

            requestAnimationFrame(animate);
        }

        function checkAnswer() {
            if (isAnimating) return;

            const input = document.getElementById('answerInput');
            const userAnswer = parseInt(input.value);
            const feedback = document.getElementById('feedback');
            const penguin = document.getElementById('gamePenguin');
            const speech = document.getElementById('penguinSpeech');

            if (isNaN(userAnswer)) {
                input.focus();
                return;
            }

            isAnimating = true;

            if (userAnswer === correctAnswer) {
                // Correct!
                results.push(true);
                correctAnswers++;
                fishCount++;
                updateFishCount();

                const op = gameMode === '2-1' ? '‚àí' : '+';
                feedback.textContent = `‚≠ï „Åõ„ÅÑ„Åã„ÅÑÔºÅ ${num1} ${op} ${num2} = ${correctAnswer}`;
                feedback.className = 'feedback correct';
                speech.textContent = getRandomSpeech('correct');

                // Show fish eating animation
                showFishEatingAnimation();

                penguin.classList.add('penguin-happy');
                setTimeout(() => penguin.classList.remove('penguin-happy'), 500);
            } else {
                // Wrong
                results.push(false);

                feedback.textContent = `‚ùå „Åñ„Çì„Å≠„Çì... „Åì„Åü„Åà„ÅØ ${correctAnswer} „Å†„Çà`;
                feedback.className = 'feedback wrong';
                speech.textContent = getRandomSpeech('wrong');
            }

            currentQuestion++;
            updateProgress();

            setTimeout(() => {
                isAnimating = false;
                nextQuestion();
            }, 1800);
        }

        function showResult() {
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.add('active');

            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('totalFish').textContent = fishCount;

            let message = '';
            if (correctAnswers === 10) {
                message = 'üèÜ „Éë„Éº„Éï„Çß„ÇØ„ÉàÔºÅ „Åô„Åî„Åô„Åé„ÇãÔºÅ üèÜ';
            } else if (correctAnswers >= 8) {
                message = '‚≠ê „Å®„Å£„Å¶„ÇÇ„Çà„Åè„Åß„Åç„Åæ„Åó„ÅüÔºÅ ‚≠ê';
            } else if (correctAnswers >= 6) {
                message = 'üëç „Çà„Åè„Åå„Çì„Å∞„Çä„Åæ„Åó„ÅüÔºÅ';
            } else if (correctAnswers >= 4) {
                message = 'üí™ „ÇÇ„ÅÜ„Åô„Åì„Åó„Çå„Çì„Åó„ÇÖ„ÅÜ„Åó„Çà„ÅÜÔºÅ';
            } else {
                message = 'üìö „ÅÑ„Å£„Åó„Çá„Å´„Åå„Çì„Å∞„Çç„ÅÜÔºÅ';
            }
            document.getElementById('resultMessage').textContent = message;
        }

        function backToSelect() {
            document.getElementById('resultScreen').classList.remove('active');
            document.getElementById('selectScreen').classList.add('active');
        }

        // Keypad functions
        function pressKey(num) {
            if (isAnimating) return;
            const input = document.getElementById('answerInput');
            if (input.value.length < 4) { // Max 4 digits
                input.value += num;
            }
        }

        function pressDelete() {
            if (isAnimating) return;
            const input = document.getElementById('answerInput');
            input.value = input.value.slice(0, -1);
        }

        // Enter key to submit (for keyboard users)
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('gameScreen').classList.contains('active')) {
                if (e.key >= '0' && e.key <= '9') {
                    pressKey(e.key);
                } else if (e.key === 'Backspace') {
                    pressDelete();
                } else if (e.key === 'Enter') {
                    checkAnswer();
                }
            }
        });
    </script>
</body>
</html>
